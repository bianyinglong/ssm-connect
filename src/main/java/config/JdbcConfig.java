package config;import com.alibaba.druid.pool.DruidDataSourceFactory;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import org.springframework.jdbc.datasource.DataSourceTransactionManager;import org.springframework.transaction.PlatformTransactionManager;import org.springframework.transaction.annotation.EnableTransactionManagement;import javax.sql.DataSource;import java.io.InputStream;import java.util.Properties;@Configurationpublic class JdbcConfig {    @Bean(name = "dataSource")    public DataSource getDruidDataSource() throws Exception {        Properties pros = new Properties();        InputStream is = getClass().getClassLoader().getResourceAsStream("druid.properties");        pros.load(is);        DataSource dataSource = DruidDataSourceFactory.createDataSource(pros);        return dataSource;    }    // 事务控制    @Bean    public PlatformTransactionManager getDataSourceTransactionManager(DataSource dataSource) {        DataSourceTransactionManager dstm = new DataSourceTransactionManager();        dstm.setDataSource(dataSource);        return dstm;    }}